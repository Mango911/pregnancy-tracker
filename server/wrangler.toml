name = "health-tracker-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# D1 数据库绑定
[[d1_databases]]
binding = "DB"
database_name = "health-tracker-db"
database_id = "YOUR_DATABASE_ID_HERE"

# 环境变量（实际的 secrets 应该通过 wrangler secret put 命令设置）
[vars]
# 本地开发时，这些值会从 .dev.vars 文件读取
# VAPID_EMAIL 可以在这里设置（非敏感信息）
VAPID_EMAIL = "mailto:your-email@example.com"

# 定时任务：每天早上 9:00 (UTC+8 = 01:00 UTC) 发送健康提醒
[triggers]
crons = ["0 1 * * *"]

# 生产环境配置
[env.production]
vars = { FRONTEND_URL = "https://your-app.pages.dev" }

# 本地开发环境配置
[env.development]
vars = { FRONTEND_URL = "http://localhost:3000" }
